

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("CORE_SERVICE_DATABASE_URL")
}

model User {
  id    String  @unique @default(uuid()) 
  email String  @unique
  hashedPassword String 
  role Role? @default(USER)
  createdAt DateTime @default(now())
  updateAt DateTime @updatedAt()
}

model Trade {
  id String @unique @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt()
  type TradeType? @default(CFD) 
  isOpen Boolean @default(false)
  leverageRatio Int @default(1)
  marginSize Float
  leverageSize Float
  tradeSize Float
  priceOpened Int
  priceClosed Float
  overnightInterest Float @default(0.1)
  overnightFee Float
}

enum Role {
  USER
  ADMIN
}

enum TradeType {
  CFD
  OPTION
  STOCK
}